<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamFlix - Age-Verified Video Platform</title>
    <meta name="description" content="Demo streaming platform showcasing Tokn SDK age verification integration">
    <meta name="keywords" content="streaming, age verification, tokn, oauth">
    
    <!-- Security headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="/css/styles.css">
    
    <!-- TOKN SDK - Replace with actual CDN URL or download and host locally -->
    <!-- <script src="https://tokn-cdn.com/tokn-sdk.js"></script> -->
    <script src="js/tokn-sdk.js"></script>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/js/tokn-integration.js" as="script">
    <link rel="preload" href="/js/app.js" as="script">
</head>
<body>
    <header class="header">
        <nav class="nav">
            <div class="logo">üì∫ StreamFlix</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#movies">Movies</a></li>
                <li><a href="#series">TV Shows</a></li>
                <li><a href="#documentaries">Documentaries</a></li>
                <li><a href="#live">Live TV</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Welcome to StreamFlix</h1>
                <p>Unlimited movies, TV shows, and documentaries across all age groups</p>
                <p><small>üõ°Ô∏è <strong>Now with REAL Tokn age verification</strong> - Login with your Tokn account!</small></p>
            </div>
        </section>

        <div class="container">
            <!-- Verification Status Panel -->
            <div class="verification-status">
                <h4>üõ°Ô∏è Age Verification Status</h4>
                <div class="status-item">
                    <span>Teen Content (16+):</span>
                    <span class="status-badge unknown" id="status-16">Unknown</span>
                </div>
                <div class="status-item">
                    <span>Mature Content (18+):</span>
                    <span class="status-badge unknown" id="status-18">Unknown</span>
                </div>
                <div class="status-item">
                    <span>Adult Content (21+):</span>
                    <span class="status-badge unknown" id="status-21">Unknown</span>
                </div>
                <div id="tokn-verify-button">
                    <!-- Tokn SDK will inject button here -->
                </div>
            </div>

            <!-- Demo Controls -->
            <div class="demo-controls">
                <h3>üé¨ Demo Controls</h3>
                <p style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 1rem;">
                    üí° Keyboard shortcuts: <kbd>V</kbd>=Verify <kbd>C</kbd>=Check <kbd>L</kbd>=Logout <kbd>`</kbd>=Console <kbd>?</kbd>=Help
                </p>
                <div class="control-buttons">
                    <button class="btn btn-primary">Check All Content Access</button>
                    <button class="btn btn-secondary">Simulate Logout</button>
                    <button class="btn btn-secondary">Show Console</button>
                    <button class="btn btn-secondary">Refresh Status</button>
                </div>
            </div>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- General Content -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        üé≠
                        <div class="age-rating" style="background: #51cf66;">G</div>
                        <div class="video-duration">1h 45m</div>
                        <div class="play-button">‚ñ∂</div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">Family Adventure</div>
                        <div class="video-meta">2024 ‚Ä¢ Family ‚Ä¢ Comedy</div>
                        <div class="genre-tag">Family</div>
                        <div class="genre-tag">Adventure</div>
                        <div class="video-description">
                            A heartwarming family adventure about friendship and courage. Perfect for all ages with positive messages and beautiful cinematography.
                        </div>
                    </div>
                </div>

                <!-- 16+ Content -->
                <div class="video-card age-gate" data-min-age="16" id="content-16">
                    <div class="age-gate-content">
                        <div class="video-thumbnail">
                            üé¨
                            <div class="age-rating" style="background: #f59e0b;">PG-13</div>
                            <div class="video-duration">2h 10m</div>
                            <div class="play-button">‚ñ∂</div>
                        </div>
                        <div class="age-gate-overlay">
                            <div class="age-gate-icon">üîí</div>
                            <h3>Teen Content (16+)</h3>
                            <p>Age verification required</p>
                        </div>
                        <div class="video-info">
                            <div class="video-title">Teenage Drama Series</div>
                            <div class="video-meta">2024 ‚Ä¢ Drama ‚Ä¢ Romance</div>
                            <div class="genre-tag">Teen Drama</div>
                            <div class="genre-tag">Romance</div>
                            <div class="video-description">
                                Coming-of-age drama with mature themes about relationships, identity, and growing up. Contains mild language and suggestive content.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 18+ Content -->
                <div class="video-card age-gate" data-min-age="18" id="content-18">
                    <div class="age-gate-content">
                        <div class="video-thumbnail">
                            üé≠
                            <div class="age-rating" style="background: #e50914;">R</div>
                            <div class="video-duration">1h 55m</div>
                            <div class="play-button">‚ñ∂</div>
                        </div>
                        <div class="age-gate-overlay">
                            <div class="age-gate-icon">üîû</div>
                            <h3>Mature Content (18+)</h3>
                            <p>Age verification required</p>
                        </div>
                        <div class="video-info">
                            <div class="video-title">Dark Psychological Thriller</div>
                            <div class="video-meta">2024 ‚Ä¢ Thriller ‚Ä¢ Crime</div>
                            <div class="genre-tag">Psychological</div>
                            <div class="genre-tag">Violence</div>
                            <div class="video-description">
                                Intense psychological thriller with graphic violence, strong language, and disturbing themes. Not suitable for viewers under 18.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 21+ Content -->
                <div class="video-card age-gate" data-min-age="21" id="content-21">
                    <div class="age-gate-content">
                        <div class="video-thumbnail">
                            üç∑
                            <div class="age-rating" style="background: #dc2626;">21+</div>
                            <div class="video-duration">45m</div>
                            <div class="play-button">‚ñ∂</div>
                        </div>
                        <div class="age-gate-overlay">
                            <div class="age-gate-icon">üîû</div>
                            <h3>Adult Content (21+)</h3>
                            <p>Age verification required</p>
                        </div>
                        <div class="video-info">
                            <div class="video-title">Wine & Spirits Documentary</div>
                            <div class="video-meta">2024 ‚Ä¢ Documentary ‚Ä¢ Lifestyle</div>
                            <div class="genre-tag">Alcohol</div>
                            <div class="genre-tag">Educational</div>
                            <div class="video-description">
                                Educational documentary about wine making and spirits tasting. Features detailed alcohol consumption and is intended for viewers 21 and older.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Another General Content -->
                <div class="video-card">
                    <div class="video-thumbnail">
                        üåç
                        <div class="age-rating" style="background: #51cf66;">G</div>
                        <div class="video-duration">50m</div>
                        <div class="play-button">‚ñ∂</div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">Nature Documentary</div>
                        <div class="video-meta">2024 ‚Ä¢ Documentary ‚Ä¢ Nature</div>
                        <div class="genre-tag">Educational</div>
                        <div class="genre-tag">Nature</div>
                        <div class="video-description">
                            Stunning wildlife documentary showcasing the beauty of our planet. Educational content suitable for the whole family.
                        </div>
                    </div>
                </div>

                <!-- Another 18+ Content -->
                <div class="video-card age-gate" data-min-age="18" id="content-18-2">
                    <div class="age-gate-content">
                        <div class="video-thumbnail">
                            ‚öîÔ∏è
                            <div class="age-rating" style="background: #e50914;">R</div>
                            <div class="video-duration">2h 30m</div>
                            <div class="play-button">‚ñ∂</div>
                        </div>
                        <div class="age-gate-overlay">
                            <div class="age-gate-icon">üîû</div>
                            <h3>Mature Content (18+)</h3>
                            <p>Age verification required</p>
                        </div>
                        <div class="video-info">
                            <div class="video-title">War Drama Epic</div>
                            <div class="video-meta">2024 ‚Ä¢ War ‚Ä¢ Drama</div>
                            <div class="genre-tag">War</div>
                            <div class="genre-tag">Graphic Violence</div>
                            <div class="video-description">
                                Epic war drama depicting the harsh realities of conflict. Contains intense battle scenes, graphic violence, and mature themes.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SDK Integration Info -->
                <div class="video-card" style="background: rgba(229, 9, 20, 0.1); border: 1px solid #e50914;">
                    <div class="video-thumbnail" style="background: linear-gradient(45deg, #1e3c72, #2a5298);">
                        üîß
                        <div class="age-rating" style="background: #e50914;">SDK</div>
                    </div>
                    <div class="video-info">
                        <div class="video-title">Real Tokn SDK Integration</div>
                        <div class="video-meta">2024 ‚Ä¢ Live Demo</div>
                        <div class="genre-tag">OAuth 2.0</div>
                        <div class="genre-tag">REAL Backend</div>
                        <div class="video-description">
                            This demo now connects to the ACTUAL Tokn MVP backend! Click "Verify Age with Tokn" to open a real popup and login with your Tokn account.
                        </div>
                    </div>
                </div>
            </div>

            <!-- Console Output -->
            <div class="console-output" id="console-output" style="display: none;">
                <div>üñ•Ô∏è Console Output:</div>
                <div id="console-log"></div>
            </div>
        </div>
    </main>

    <!-- Scripts -->
    <script src="/js/tokn-integration.js"></script>
    <script src="/js/app.js"></script>

    <!-- CSS for keyboard shortcuts and TOKN SDK styling -->
    <style>
        kbd {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            padding: 2px 6px;
            font-size: 0.8em;
            font-family: monospace;
        }
        
        /* TOKN SDK Button Styling */
        #tokn-verify-btn {
            background: linear-gradient(135deg, #e50914 0%, #d40813 100%) !important;
            color: white !important;
            border: none !important;
            padding: 12px 24px !important;
            border-radius: 8px !important;
            font-weight: 600 !important;
            cursor: pointer !important;
            width: 100% !important;
            transition: all 0.3s ease !important;
            font-size: 0.9rem !important;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
            box-shadow: 0 4px 12px rgba(229, 9, 20, 0.3) !important;
        }
        
        #tokn-verify-btn:hover {
            background: linear-gradient(135deg, #d40813 0%, #c10712 100%) !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 6px 16px rgba(229, 9, 20, 0.4) !important;
        }
        
        #tokn-verify-btn:active {
            transform: translateY(0) !important;
            box-shadow: 0 2px 8px rgba(229, 9, 20, 0.3) !important;
        }
        
        /* Status badge styling */
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .status-badge.verified {
            background: #51cf66;
            color: white;
        }
        
        .status-badge.not-verified {
            background: #ff6b6b;
            color: white;
        }
        
        .status-badge.unknown {
            background: #868e96;
            color: white;
        }
        
        /* Age gate styling */
        .video-card.locked .age-gate-overlay {
            display: flex !important;
        }
        
        .video-card.unlocked .age-gate-overlay {
            display: none !important;
        }
        
        .video-card.unlocked {
            opacity: 1;
            transform: scale(1);
        }
        
        .video-card.locked {
            opacity: 0.7;
        }
    </style>
</body>
</html>